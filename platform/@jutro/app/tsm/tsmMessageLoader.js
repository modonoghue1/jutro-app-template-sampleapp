import{getConfigValue}from"@jutro/config";import{warning,info}from"@jutro/logger";import{fetchTsmMessages}from"./fetchTsmMessages";export const tsmMessageLoader=async language=>{const worksetUid=getConfigValue("JUTRO_TSM_WORKSET_UID","active"),stringVersion=getConfigValue("JUTRO_TSM_STRING_VERSION"),stringGroup=getConfigValue("JUTRO_TSM_STRING_GROUP"),jutroVersion=getConfigValue("JUTRO_CORE_STRING_VERSION");info(`TSM enabled: Loading messages for "${language}" language, worksetUid: "${worksetUid}", string group: "${stringGroup}:.`);try{return await fetchTsmMessages(language,worksetUid,stringGroup,void 0,stringVersion,jutroVersion)}catch(err){return warning(`TSM: Error loading translations. Details: ${err}`),{}}};