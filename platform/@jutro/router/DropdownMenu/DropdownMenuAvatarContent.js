import _extends from"@babel/runtime-corejs3/helpers/extends";import React,{useCallback}from"react";import PropTypes from"prop-types";import cx from"classnames";import{Avatar}from"@jutro/components";import{useAuth}from"@jutro/auth";import{intlMessageShape}from"@jutro/prop-types";import{DropdownMenuSeparator}from"./DropdownMenuSeparator";import{DropdownMenuAvatarHeader}from"./DropdownMenuAvatarHeader";import styles from"./DropdownMenuAvatar.module.css";import dropdownStyles from"./DropdownMenu.module.css";import{DropdownMenuLink}from"./DropdownMenuLink";import{messages}from"./DropdownMenuAvatar.messages";export const DropdownMenuAvatarContent=({children:children,title:title,subtitle:subtitle,useAuthInfo:useAuthInfo,username:username,icon:icon,className:className,imageSource:imageSource,messageProps:messageProps,showImageBorder:showImageBorder,headerClassName:headerClassName,authLinksClassName:authLinksClassName,separatorClassName:separatorClassName,onBeforeLogout:onBeforeLogout})=>{const auth=useAuth(),logoutCallback=useCallback((async()=>{onBeforeLogout&&await onBeforeLogout(),auth&&auth.logout&&await auth.logout()}),[auth,onBeforeLogout]),authLinks=useAuthInfo&&auth&&React.createElement(React.Fragment,null,React.createElement(DropdownMenuSeparator,{className:separatorClassName}),React.createElement(DropdownMenuLink,{"data-gw-test-auth-logout":!0,onClick:logoutCallback,className:authLinksClassName},messages.logout)),headerProps={title:title,subtitle:subtitle,username:username,icon:icon,imageSource:imageSource,messageProps:messageProps,useAuthInfo:useAuthInfo,showImageBorder:showImageBorder},childrenArray=React.Children.toArray(children),classNames=cx(styles.dropdownMenuAvatar,dropdownStyles.dropdownMenu,className);return React.createElement("div",{className:classNames},React.createElement(DropdownMenuAvatarHeader,_extends({className:headerClassName},headerProps)),childrenArray.length>0&&React.createElement(React.Fragment,null,React.createElement(DropdownMenuSeparator,{className:separatorClassName}),children),authLinks)};DropdownMenuAvatarContent.propTypes={title:intlMessageShape,subtitle:intlMessageShape,username:PropTypes.string,icon:PropTypes.string,className:PropTypes.string,imageSource:PropTypes.string,messageProps:PropTypes.shape({userAvatar:Avatar.propTypes.messageProps.userAvatar}),useAuthInfo:PropTypes.bool,children:PropTypes.node,showImageBorder:PropTypes.bool,headerClassName:PropTypes.string,authLinksClassName:PropTypes.string,separatorClassName:PropTypes.string,onBeforeLogout:PropTypes.func},DropdownMenuAvatarContent.defaultAvatarProps={useAuthInfo:!1},DropdownMenuAvatarContent.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuAvatarContent",props:{title:{type:{name:"custom",raw:"intlMessageShape"},required:!1,description:"Menu header title text"},subtitle:{type:{name:"custom",raw:"intlMessageShape"},required:!1,description:"Menu header subtitle text"},username:{type:{name:"string"},required:!1,description:"Users first and last names, used as component alt text as well\nas to display initials if no image selected"},icon:{type:{name:"string"},required:!1,description:"Icon name from Material Icons icon list to be displayed if no image or initials present"},className:{type:{name:"string"},required:!1,description:"Additional component styling class name"},imageSource:{type:{name:"string"},required:!1,description:"Path to user image, preferentially shown before user initials or icon"},messageProps:{type:{name:"shape",value:{userAvatar:{name:"custom",raw:"Avatar.propTypes.messageProps.userAvatar",description:"userAvatar message",required:!1}}},required:!1,description:"Message props(error message/aria-label)"},useAuthInfo:{type:{name:"bool"},required:!1,description:"If `true`, display header information from Okta, if available, and Logout menu link"},children:{type:{name:"node"},required:!1,description:"The component children wrapped by the dropdown menu avatar component."},showImageBorder:{type:{name:"bool"},required:!1,description:"Defines whether image border should be shown or not"},headerClassName:{type:{name:"string"},required:!1,description:"Additional css class to the dropdown menu avatar header"},authLinksClassName:{type:{name:"string"},required:!1,description:"Additional css class to the dropdown menu avatar auth links"},separatorClassName:{type:{name:"string"},required:!1,description:"Optional css class to the dropdown menu separator"},onBeforeLogout:{type:{name:"func"},required:!1,description:"Callback to be called before okta logout"}}},DropdownMenuAvatarContent.__docgenInfo={componentName:"DropdownMenuAvatarContent",packageName:"@jutro/router",description:"",displayName:"DropdownMenuAvatarContent",methods:[],actualName:"DropdownMenuAvatarContent",props:{title:{type:{name:"union",value:[{name:"string"},{name:"shape",value:{id:{name:"string",required:!1},defaultMessage:{name:"string",required:!1},args:{name:"shape",value:{},required:!1}}}]},required:!1,description:"Menu header title text"},subtitle:{type:{name:"union",value:[{name:"string"},{name:"shape",value:{id:{name:"string",required:!1},defaultMessage:{name:"string",required:!1},args:{name:"shape",value:{},required:!1}}}]},required:!1,description:"Menu header subtitle text"},username:{type:{name:"string"},required:!1,description:"Users first and last names, used as component alt text as well\nas to display initials if no image selected"},icon:{type:{name:"string"},required:!1,description:"Icon name from Material Icons icon list to be displayed if no image or initials present"},className:{type:{name:"string"},required:!1,description:"Additional component styling class name"},imageSource:{type:{name:"string"},required:!1,description:"Path to user image, preferentially shown before user initials or icon"},messageProps:{type:{name:"shape",value:{userAvatar:{name:"custom",raw:"Avatar.propTypes.messageProps.userAvatar",description:"userAvatar message",required:!1}}},required:!1,description:"Message props(error message/aria-label)"},useAuthInfo:{type:{name:"bool"},required:!1,description:"If `true`, display header information from Okta, if available, and Logout menu link"},children:{type:{name:"node"},required:!1,description:"The component children wrapped by the dropdown menu avatar component."},showImageBorder:{type:{name:"bool"},required:!1,description:"Defines whether image border should be shown or not"},headerClassName:{type:{name:"string"},required:!1,description:"Additional css class to the dropdown menu avatar header"},authLinksClassName:{type:{name:"string"},required:!1,description:"Additional css class to the dropdown menu avatar auth links"},separatorClassName:{type:{name:"string"},required:!1,description:"Optional css class to the dropdown menu separator"},onBeforeLogout:{type:{name:"func"},required:!1,description:"Callback to be called before okta logout"}}};