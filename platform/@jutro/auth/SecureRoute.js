import React from"react";import PropTypes from"prop-types";import{Route}from"react-router-dom";import{useAuth}from"./AuthContext";const secureRoutePropTypes={...Route.propTypes,children:PropTypes.func,component:PropTypes.elementType,render:PropTypes.func};export const SecureRoute=({children:children,component:Component,render:render,...props})=>{const auth=useAuth();return!auth||auth.authenticated||auth.isPending||auth.login(),React.createElement(Route,props,(routeProps=>children?children({...routeProps,auth:auth}):Component?auth?(null==auth?void 0:auth.authenticated)&&React.createElement(Component,routeProps):React.createElement(Component,routeProps):render?render({...routeProps,auth:auth}):null))};SecureRoute.propTypes=secureRoutePropTypes,SecureRoute.displayName="SecureRoute",SecureRoute.__docgenInfo={description:"Route which requires authentication\nInspired by Octa's SecureRoute\nhttps://github.com/okta/okta-oidc-js/blob/master/packages/okta-react/src/SecureRoute.js\nhttps://github.com/okta/okta-oidc-js/blob/8fe896a383fc5e02999d63068175e72bec538115/packages/okta-react/src/SecureRoute.js\n\n@type {React.FC<PropTypes.InferProps<typeof secureRoutePropTypes>>}",methods:[],displayName:"SecureRoute",props:{children:{type:{name:"func"},required:!1,description:"Functions called when rendering route. Takes precedence over component and render\n({ auth: Auth, ...routeProps }) => React.ReactNode"},component:{type:{name:"elementType"},required:!1,description:"Component to be render when authenticated. Takes precedence over render"},render:{type:{name:"func"},required:!1,description:"Functions called when rendering route\n({ auth: Auth, ...routeProps }) => React.ReactNode"}},composes:["react-router-dom"]},SecureRoute.__docgenInfo={componentName:"SecureRoute",packageName:"@jutro/auth",description:"Route which requires authentication\nInspired by Octa's SecureRoute\nhttps://github.com/okta/okta-oidc-js/blob/master/packages/okta-react/src/SecureRoute.js\nhttps://github.com/okta/okta-oidc-js/blob/8fe896a383fc5e02999d63068175e72bec538115/packages/okta-react/src/SecureRoute.js",displayName:"SecureRoute",methods:[],actualName:"SecureRoute",props:{children:{type:{name:"func"},required:!1,description:"Functions called when rendering route. Takes precedence over component and render\n({ auth: Auth, ...routeProps }) => React.ReactNode"},component:{type:{name:"elementType"},required:!1,description:"Component to be render when authenticated. Takes precedence over render"},render:{type:{name:"func"},required:!1,description:"Functions called when rendering route\n({ auth: Auth, ...routeProps }) => React.ReactNode"}},composes:["react-router-dom"]};