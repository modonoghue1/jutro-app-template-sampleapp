import React,{useRef,useCallback,useEffect}from"react";import PropTypes from"prop-types";const outsideClickDetectorPropTypes={onClickOutside:PropTypes.func,onWindowBlur:PropTypes.func};export const OutsideClickDetector=({children:renderProp,onClickOutside:onClickOutside,onWindowBlur:onWindowBlur})=>{const node=useRef(),handleClick=useCallback((event=>{node.current.contains(event.target)||onClickOutside&&onClickOutside(event)}),[onClickOutside]),handleWindowBlur=useCallback((event=>onWindowBlur&&onWindowBlur(event)),[onWindowBlur]);return useEffect((()=>(window.addEventListener("blur",handleWindowBlur),document.addEventListener("mousedown",handleClick),()=>{window.removeEventListener("blur",handleWindowBlur),document.removeEventListener("mousedown",handleClick)})),[handleClick,handleWindowBlur]),renderProp((ref=>{node.current=ref}))};OutsideClickDetector.propTypes=outsideClickDetectorPropTypes;