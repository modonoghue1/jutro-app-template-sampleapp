import _extends from"@babel/runtime-corejs3/helpers/extends";import React,{useContext}from"react";import cx from"classnames";import{TranslatorContext}from"@jutro/locale";import{messages}from"../LookupField.messages";import{LookupOptionIcon}from"./LookupOptionIcon";import{LookupAddLink}from"./LookupAddLink";export const LookupOption=props=>{const data=props.data,innerProps=props.innerProps,isFocused=props.isFocused,isSelected=props.isSelected,_props$selectProps=props.selectProps,customStyles=_props$selectProps.customStyles,inputValue=_props$selectProps.inputValue,components=_props$selectProps.components,optionTypesMap=_props$selectProps.optionTypesMap,translator=useContext(TranslatorContext),stateClassName=cx({[customStyles.focused]:isFocused,[customStyles.selected]:isSelected}),type=data.type,displayName=data.displayName,value=data.value;if(data.__isNew__){const AddLink=components.AddLink||LookupAddLink;return React.createElement(AddLink,_extends({},props,{value:value,className:stateClassName,innerProps:innerProps}))}const translatedTypeDisplayName=translator((optionTypesMap[type]||{}).displayName||messages.unknownType);return React.createElement("div",_extends({},innerProps,{className:cx(customStyles.option,stateClassName)}),React.createElement(LookupOptionIcon,{type:type,customStyles:customStyles,optionTypesMap:optionTypesMap,title:translatedTypeDisplayName}),React.createElement("div",{className:customStyles.item},React.createElement("div",{className:customStyles.title},renderTitle(displayName,inputValue)),React.createElement("div",{className:customStyles.subtitle},translatedTypeDisplayName)))};function renderTitle(displayName,searchString){if(!displayName||!searchString)return displayName;const index=displayName.toLowerCase().indexOf(searchString.toLowerCase());return-1===index?displayName:React.createElement(React.Fragment,null,displayName.substr(0,index),React.createElement("strong",null,displayName.substr(index,searchString.length)),displayName.substr(index+searchString.length))}LookupOption.__docgenInfo={description:"",methods:[],displayName:"LookupOption"},LookupOption.__docgenInfo={componentName:"LookupOption",packageName:"@jutro/components",description:"",displayName:"LookupOption",methods:[],actualName:"LookupOption"},renderTitle.__docgenInfo={componentName:"renderTitle",packageName:"@jutro/components",description:"",displayName:"renderTitle",methods:[],actualName:"renderTitle"};