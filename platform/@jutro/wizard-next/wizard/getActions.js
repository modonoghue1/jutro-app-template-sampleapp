import _slicedToArray from"@babel/runtime-corejs3/helpers/slicedToArray";import get from"lodash/get";import findIndex from"lodash/findIndex";const createActionItem=({name:name,to:to,trigger:trigger,failTo:failTo,...rest})=>({name:name,to:to,failTo:failTo,trigger:trigger,...rest});export function getActions({cancelPath:cancelPath,finishPath:finishPath,steps:steps,basePath:basePath,initialStepPath:initialStepPath,location:location,callbacks:callbacks,buttonProps:buttonProps,knockoutPath:knockoutPath}){const currentStep=(({basePath:basePath,initialStepPath:initialStepPath,currentPath:currentPath})=>currentPath===basePath?initialStepPath:currentPath.split(`${basePath}/`)[1])({basePath:basePath,initialStepPath:initialStepPath,currentPath:location.pathname}),currentStepIndex=findIndex(steps,{route:currentStep}),lastStepIndex=steps.length-1,getPath=(isPathCorrect,nextStepIndex)=>isPathCorrect?steps[nextStepIndex].route:void 0,makePath=(base,path)=>base&&path&&!path.startsWith("/")?`${base}/${path}`:path,parentPath=basePath,prevPathCheck=currentStepIndex>0,nextPath=getPath(currentStepIndex<lastStepIndex,currentStepIndex+1),prevPath=getPath(prevPathCheck,currentStepIndex-1),wizardFinishPath=currentStepIndex===lastStepIndex?finishPath:void 0,_map=["onNext","onPrevious","onCancel","onFinish"].map((actionName=>get(callbacks,actionName))),_map2=_slicedToArray(_map,4),onNextPage=_map2[0],onPreviousPage=_map2[1],onCancelWizard=_map2[2],onFinishWizard=_map2[3],cancel=createActionItem({name:"cancel",...buttonProps.cancel,to:makePath(parentPath,cancelPath),trigger:onCancelWizard}),finish=createActionItem({name:"finish",...buttonProps.finish,to:makePath(parentPath,wizardFinishPath),trigger:onFinishWizard});return[cancel,createActionItem({name:"previous",...buttonProps.previous,to:prevPath,trigger:onPreviousPage}),createActionItem({name:"next",to:nextPath,...buttonProps.next,failTo:knockoutPath,trigger:onNextPage}),finish]}