import{SELECT,TOGGLE,SET_ALL,CLEAR_ALL}from"./types";import{toggleValue}from"./helper";export function reducer(state,{type:type,payload:payload}){switch(type){case SELECT:return areEqual([payload],state.rows)?{...state,all:!1}:{...state,all:!1,rows:[payload]};case TOGGLE:{const rows=state.rows,newRows=toggleValue(rows,payload);return{...state,all:!1,rows:newRows}}case SET_ALL:return areEqual(payload,state.rows)?{...state,all:!0}:{...state,all:!0,rows:payload};case CLEAR_ALL:return state.rows.length?{...state,all:!1,rows:[]}:{...state,all:!1};default:return state}}function areEqual(array1,array2){return array1.length===array2.length&&array1.every((item=>array2.includes(item)))}