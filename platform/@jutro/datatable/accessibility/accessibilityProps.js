import{onKeyDownHandler}from"./onKeyDownHandler";import{onFocusHandler,isFocused}from"./onFocusHandler";const getAriaSort=(columnId,sorted)=>{const sortedHeader=null==sorted?void 0:sorted.find((({id:id})=>id===columnId));return sortedHeader?sortedHeader.desc?"descending":"ascending":"none"};export const getA11yTrGroupProps=()=>({role:"rowgroup"});export const getA11yTrProps=()=>({role:"row"});export const getA11yTableProps=tableLabel=>({role:"table","aria-label":tableLabel});const isTabbableHeader=type=>"display"===type,getA11yTheadThProps=(tableId,focused,setFocused,state,columnId,type)=>({id:`${tableId}_${columnId}`,tabIndex:isTabbableHeader(type)?0:-1,onFocus:onFocusHandler(focused,setFocused,state,0,columnId),onKeyDown:onKeyDownHandler(focused,tableId,state),role:"columnheader","data-row":0,"data-col":columnId,"data-parent":tableId});export const getA11yTheadThPropsSortableHeader=(tableId,sorted,focused,setFocused)=>(state,columnId,type)=>({"aria-sort":getAriaSort(columnId,sorted),...getA11yTheadThProps(tableId,focused,setFocused,state,columnId,type)});export const getA11yTheadThPropsHeader=(tableId,focused,setFocused)=>(state,columnId,type)=>(type=>"expander"===type||"actions"===type||"single_selection"===type)(type)?{"aria-hidden":!0,...getA11yTheadThProps(tableId,focused,setFocused,state,columnId,type)}:getA11yTheadThProps(tableId,focused,setFocused,state,columnId,type);export const getA11yTdProps=(tableId,focused,setFocused)=>(state,rowInfo,columnId,shouldBeFocusable)=>({role:"cell",tabIndex:!shouldBeFocusable&&isFocused(focused,state,rowInfo.viewIndex+1,columnId)?0:-1,"data-row":rowInfo.viewIndex+1,"data-col":columnId,"data-parent":tableId,onFocus:onFocusHandler(focused,setFocused,state,rowInfo.viewIndex+1,columnId),onKeyDown:onKeyDownHandler(focused,tableId,state),"aria-labelledby":`${tableId}_${columnId}`});