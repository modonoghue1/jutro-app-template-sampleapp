import _objectWithoutProperties from"@babel/runtime-corejs3/helpers/objectWithoutProperties";import{logDeprecationMessage}from"@jutro/platform";export function extractAPIFromSchema(schema,target,restService){logDeprecationMessage("extractAPIFromSchema",void 0,void 0,"7.0.0");const targetUrl=target,apiTargetUrl=`${null==schema?void 0:schema.servers[0].url}${targetUrl}`,collectionPath=null==schema?void 0:schema.paths[targetUrl],api={};collectionPath.get&&(api.getAll=()=>{const url=apiTargetUrl;return restService.get(url)}),collectionPath.post&&(api.create=entity=>{const url=apiTargetUrl,rest=(entity.id,_objectWithoutProperties(entity,["id"]));return restService.post(url,rest)});const detailsPath=null==schema?void 0:schema.paths[`${targetUrl}/{id}`];return detailsPath.get&&(api.get=entityId=>{const url=`${apiTargetUrl}/${entityId}`;return restService.get(url)}),detailsPath.put&&(api.update=entity=>{const entityId=entity.id,url=`${apiTargetUrl}/${entityId}`;return restService.put(url,entity)}),detailsPath.delete&&(api.delete=entityId=>{const url=`${apiTargetUrl}/${entityId}`;return restService.delete(url)}),api}