import{act}from"react-dom/test-utils";export const getPressKey=(wrapper,dispatchKeyUpCallbacks)=>(key,target=wrapper)=>{let preventDefaultSpy,stopPropagationSpy;return act((()=>{const keyboardEvent=new KeyboardEvent("keydown",{key:key,code:key});preventDefaultSpy=jest.spyOn(keyboardEvent,"preventDefault"),stopPropagationSpy=jest.spyOn(keyboardEvent,"stopPropagation"),target.getDOMNode().dispatchEvent(keyboardEvent)})),wrapper.update(),null!=dispatchKeyUpCallbacks&&dispatchKeyUpCallbacks.length&&dispatchKeyUpCallbacks.forEach((cb=>{act((()=>{cb({key:key,preventDefault:jest.fn(),stopPropagation:jest.fn()})})),wrapper.update()})),{preventDefaultSpy:preventDefaultSpy,stopPropagationSpy:stopPropagationSpy}};